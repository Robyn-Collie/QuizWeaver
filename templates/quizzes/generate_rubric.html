{% extends "base.html" %}
{% block title %}Generate Rubric - {{ quiz.title }} - QuizWeaver{% endblock %}

{% block content %}
<h1>Generate Rubric</h1>
<p>Create a scoring rubric for <strong><a href="/quizzes/{{ quiz.id }}">{{ quiz.title }}</a></strong>.</p>

{% if error is defined and error %}
<div class="alert alert-error">{{ error }}</div>
{% endif %}

<div class="info-box">
    The rubric will be automatically aligned to the quiz's question types, cognitive levels, and standards.
</div>

<form method="POST" class="form" id="rubric-form"
      data-loading-form
      data-loading-title="Generating Rubric..."
      data-loading-message="Building scoring criteria aligned to your quiz. This may take 10-30 seconds."
      data-loading-btn-text="Generating...">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="form-group">
        <label for="rubric-title">Title (optional)</label>
        <input type="text" id="rubric-title" name="title" placeholder="Auto-generated if left blank">
    </div>

    {% include "partials/provider_select.html" %}

    <div class="form-actions">
        <button type="submit" class="btn btn-primary" id="generate-btn">Generate Rubric</button>
        <a href="/quizzes/{{ quiz.id }}" class="btn btn-secondary">Cancel</a>
    </div>
</form>

{% endblock %}
