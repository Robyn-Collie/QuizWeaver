{% extends "base.html" %}
{% block title %}Manual Score Entry - {{ class_obj.name }} - QuizWeaver{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Manual Score Entry</h1>
    <a href="/classes/{{ class_obj.id }}/analytics" class="btn btn-secondary">Back to Analytics</a>
</div>

<p class="info-box">
    Enter performance scores for <strong>{{ class_obj.name }}</strong>.
    Scores are on a 0-100 scale.
</p>

{% if error %}
<div class="alert alert-error">{{ error }}</div>
{% endif %}

<form method="POST" class="form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="form-group">
        <label for="topic">Topic</label>
        <input type="text" id="topic" name="topic" required placeholder="e.g., photosynthesis"
               list="topic-suggestions">
        <datalist id="topic-suggestions">
            {% for topic in known_topics %}
            <option value="{{ topic }}">
            {% endfor %}
        </datalist>
    </div>

    <div class="form-group">
        <label for="score">Class Average Score (0-100)</label>
        <input type="number" id="score" name="score" required min="0" max="100" step="0.1"
               placeholder="e.g., 75">
    </div>

    <div class="form-group">
        <label for="standard">Standard (optional)</label>
        <input type="text" id="standard" name="standard" placeholder="e.g., SOL 7.1">
    </div>

    <div class="form-group">
        <label for="date">Assessment Date</label>
        <input type="date" id="date" name="date" value="{{ today }}">
    </div>

    <div class="form-group">
        <label for="sample_size">Sample Size (number of students)</label>
        <input type="number" id="sample_size" name="sample_size" min="0" value="0"
               placeholder="e.g., 25">
    </div>

    <div class="form-group">
        <label for="weak_areas">Weak Areas (optional, semicolon-separated)</label>
        <input type="text" id="weak_areas" name="weak_areas"
               placeholder="e.g., light reactions;calvin cycle">
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">Save Score</button>
        <a href="/classes/{{ class_obj.id }}/analytics" class="btn btn-secondary">Cancel</a>
    </div>
</form>
{% endblock %}
